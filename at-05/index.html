<!doctype html><html lang=es class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Haré una breve descripción de ambos módulos, como identificarlos y como configurarlos y trabajar con ellos."><link href=https://fgcoca.github.io/BlueTooth-HC-05-y-HC-06-Public/at-05/ rel=canonical><meta name=author content="Federico Coca"><link rel="shortcut icon" href=../img/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.3.3"><title>Módulo HC-05 - BlueTooth HC-05 y HC-06</title><link rel=stylesheet href=../assets/stylesheets/main.fe0cca5b.min.css><link rel=stylesheet href=../assets/stylesheets/palette.a46bcfb3.min.css><meta name=theme-color content=#03a9f4><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style></head> <body dir=ltr data-md-color-scheme data-md-color-primary=light-blue data-md-color-accent=deep-purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#montajes-y-establecimiento-de-conexion class=md-skip> Saltar a contenido </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Cabecera> <a href=https://fgcoca.github.io/BlueTooth-HC-05-y-HC-06-Public/ title="BlueTooth HC-05 y HC-06" class="md-header-nav__button md-logo" aria-label="BlueTooth HC-05 y HC-06"> <img src=../img/favicon.png alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> BlueTooth HC-05 y HC-06 </span> <span class="md-header-nav__topic md-ellipsis"> Módulo HC-05 </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Búsqueda placeholder=Búsqueda autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Limpiar data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/fgcoca/BlueTooth-HC-05-y-HC-06 title="Ir al repositorio" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> fgcoca/BlueTooth-HC-05-y-HC-06 </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navegación data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://fgcoca.github.io/BlueTooth-HC-05-y-HC-06-Public/ title="BlueTooth HC-05 y HC-06" class="md-nav__button md-logo" aria-label="BlueTooth HC-05 y HC-06"> <img src=../img/favicon.png alt=logo> </a> BlueTooth HC-05 y HC-06 </label> <div class=md-nav__source> <a href=https://github.com/fgcoca/BlueTooth-HC-05-y-HC-06 title="Ir al repositorio" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> fgcoca/BlueTooth-HC-05-y-HC-06 </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. title=Introducción class=md-nav__link> Introducción </a> </li> <li class=md-nav__item> <a href=../modulos/ title="Módulos Bluetooth" class=md-nav__link> Módulos Bluetooth </a> </li> <li class=md-nav__item> <a href=../comunica/ title="Comunicación entre un PC y un módulo Bluetooth" class=md-nav__link> Comunicación entre un PC y un módulo Bluetooth </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4 checked> <label class=md-nav__link for=nav-4> Comandos AT <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Comandos AT" data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Comandos AT </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../intro-at/ title=Introducción class=md-nav__link> Introducción </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Módulo HC-05 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg> </span> </label> <a href=./ title="Módulo HC-05" class="md-nav__link md-nav__link--active"> Módulo HC-05 </a> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Tabla de contenidos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#modulo-bluetooth-hc-05-con-boton class=md-nav__link> Módulo Bluetooth HC-05 CON botón </a> </li> <li class=md-nav__item> <a href=#modulo-bluetooth-hc-05-sin-boton class=md-nav__link> Módulo Bluetooth HC-05 SIN botón </a> </li> <li class=md-nav__item> <a href=#comandos-at-para-el-hc-05 class=md-nav__link> Comandos AT para el HC-05 </a> <nav class=md-nav aria-label="Comandos AT para el HC-05"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#at class=md-nav__link> AT </a> </li> <li class=md-nav__item> <a href=#atversion class=md-nav__link> AT+VERSION? </a> </li> <li class=md-nav__item> <a href=#atname-o-atnamennnn class=md-nav__link> AT+NAME? o AT+NAME=nnnn? </a> </li> <li class=md-nav__item> <a href=#atuart-o-atuartconfig class=md-nav__link> AT+UART? o AT+UART=config </a> </li> <li class=md-nav__item> <a href=#atpswd-o-atpswdnuevo-pin class=md-nav__link> AT+PSWD? o AT+PSWD="nuevo-pin" </a> </li> <li class=md-nav__item> <a href=#atrole-o-atrolen class=md-nav__link> AT+ROLE? o AT+ROLE=n </a> </li> <li class=md-nav__item> <a href=#otros-comando-at class=md-nav__link> Otros comando AT </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ejemplos-de-configuracion-del-modulo-ht-05 class=md-nav__link> Ejemplos de configuración del módulo HT-05 </a> <nav class=md-nav aria-label="Ejemplos de configuración del módulo HT-05"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ejemplo-1-role-maestro class=md-nav__link> Ejemplo 1. Role maestro </a> </li> <li class=md-nav__item> <a href=#ejemplo-2-role-esclavo class=md-nav__link> Ejemplo 2. Role esclavo </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../at-06/ title="Módulo HC-06" class=md-nav__link> Módulo HC-06 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Miscelanea <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Miscelanea data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Miscelanea </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Miscelanea/about/ title=Autor class=md-nav__link> Autor </a> </li> <li class=md-nav__item> <a href=../Miscelanea/lic/ title=Licencias class=md-nav__link> Licencias </a> </li> <li class=md-nav__item> <a href=../Miscelanea/webgrafia/ title=Webgrafia/Bibliografía class=md-nav__link> Webgrafia/Bibliografía </a> </li> <li class=md-nav__item> <a href=../Miscelanea/soft/ title="Software utilizado" class=md-nav__link> Software utilizado </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Tabla de contenidos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#modulo-bluetooth-hc-05-con-boton class=md-nav__link> Módulo Bluetooth HC-05 CON botón </a> </li> <li class=md-nav__item> <a href=#modulo-bluetooth-hc-05-sin-boton class=md-nav__link> Módulo Bluetooth HC-05 SIN botón </a> </li> <li class=md-nav__item> <a href=#comandos-at-para-el-hc-05 class=md-nav__link> Comandos AT para el HC-05 </a> <nav class=md-nav aria-label="Comandos AT para el HC-05"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#at class=md-nav__link> AT </a> </li> <li class=md-nav__item> <a href=#atversion class=md-nav__link> AT+VERSION? </a> </li> <li class=md-nav__item> <a href=#atname-o-atnamennnn class=md-nav__link> AT+NAME? o AT+NAME=nnnn? </a> </li> <li class=md-nav__item> <a href=#atuart-o-atuartconfig class=md-nav__link> AT+UART? o AT+UART=config </a> </li> <li class=md-nav__item> <a href=#atpswd-o-atpswdnuevo-pin class=md-nav__link> AT+PSWD? o AT+PSWD="nuevo-pin" </a> </li> <li class=md-nav__item> <a href=#atrole-o-atrolen class=md-nav__link> AT+ROLE? o AT+ROLE=n </a> </li> <li class=md-nav__item> <a href=#otros-comando-at class=md-nav__link> Otros comando AT </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ejemplos-de-configuracion-del-modulo-ht-05 class=md-nav__link> Ejemplos de configuración del módulo HT-05 </a> <nav class=md-nav aria-label="Ejemplos de configuración del módulo HT-05"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ejemplo-1-role-maestro class=md-nav__link> Ejemplo 1. Role maestro </a> </li> <li class=md-nav__item> <a href=#ejemplo-2-role-esclavo class=md-nav__link> Ejemplo 2. Role esclavo </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=montajes-y-establecimiento-de-conexion><font color=#8B008B><strong>Montajes y establecimiento de conexión</strong></font><a class=headerlink href=#montajes-y-establecimiento-de-conexion title="Permanent link">&para;</a></h1> <p>En el caso del módulo HC-05 debemos proceder de manera diferente en función de que el módulo disponga o no de un botón pulsador que permita establecer la comunicación Bluetooth con el mismo.</p> <h2 id=modulo-bluetooth-hc-05-con-boton><font color=#007575><strong>Módulo Bluetooth HC-05 <em>CON</em> botón</strong></font><a class=headerlink href=#modulo-bluetooth-hc-05-con-boton title="Permanent link">&para;</a></h2> <p>Para este caso el montaje que debemos realizar lo vemos en la imagen siguiente:</p> <p><center></p> <table> <thead> <tr> <th align=center>Conexión Arduino Nano-HC05 con botón pulsador</th> </tr> </thead> <tbody> <tr> <td align=center><img alt="Conexión Arduino Nano-HC05 sin botón pulsador" src=../img/comunicacion/nano-HC-05sin.png></td> </tr> </tbody> </table> <p></center></p> <p>El programa que podemos grabar en el Nano para esta ocasión lo vamos a diferenciar, creando uno para cada modo de funcionamiento.</p> <ul> <li><strong>Modo AT2</strong>. El programa es el siguiente:</li> </ul> <div class=highlight><pre><span></span><code>#include &lt;SoftwareSerial.h&gt;
// Definimos una conexión utilizando la librería
SoftwareSerial conex_BT(10, 11); // Recuerda cruzar RX con TX
void setup(){ 
  Serial.begin(9600);     // Velocidad de comunicación con el monitor serie
  Serial.println(&quot;Alimentamos el modulo HC-05 mientras se mantiene presionado el pulsador&quot;);
  Serial println(&quot;De esta forma se habilita el modo AT2&quot;);
  Serial.println(&quot;El LED parpadea lentamente y el módulo listo para trabajar con comandos AT:&quot;);
  conex_BT.begin(38400);  // Inicializa el puerto serie o consola
}
void loop(){  
  if (conex_BT.available())
    Serial.write(conex_BT.read());
  if (Serial.available())
    conex_BT.write(Serial.read());
}
</code></pre></div> <p>Una vez subido el programa a nuestra placa tomamos el módulo BT y accionamos el pulsador y sin soltarlo procedemos a conectar la placa al puerto USB para alimentar ambos dispositivos. Tras un instante podemos observar que el LED parpadea lentamente indicando que estamos en modo AT2 y que podemos enviar comandos AT al mismo. En la imagen siguiente vemos el resultado de comprobar que todo es correcto obteniendo el primer OK como respuesta al comando AT. También vemos la respuesta a otros comandos.</p> <p><center></p> <table> <thead> <tr> <th align=center>Respuesta al comando AT en modo AT2</th> </tr> </thead> <tbody> <tr> <td align=center><img alt="Respuesta al comando AT en modo AT2" src=../img/AT/AT-OK-con-pulsador.png></td> </tr> </tbody> </table> <p></center></p> <p>Ya podemos enviar cualquier comando AT de los que vemos en el apartado correspondiente.</p> <ul> <li><strong>Modo AT1</strong>. El programa que vamos a utilizar es el siguiente:</li> </ul> <div class=highlight><pre><span></span><code>#include &lt;SoftwareSerial.h&gt;
// Definimos una conexión utilizando la librería
SoftwareSerial conex_BT(10, 11); // Recuerda cruzar RX con TX
void setup(){ 
  Serial.begin(9600);     // Velocidad de comunicación con el monitor serie
  Serial.println(&quot;Alimentamos el modulo HC-05&quot;);
  Serial.println(&quot;Accionamos el pulsador para entrar en el modo AT1&quot;);
  Serial.println(&quot;El LED continua parpadeando rápidamente y el módulo está listo para trabajar con comandos AT&quot;);
  conex_BT.begin(115200);  // Velocidad a la que está configurado el módulo
}
void loop(){  
  if (conex_BT.available())
    Serial.write(conex_BT.read());
  if (Serial.available())
    conex_BT.write(Serial.read());
}
</code></pre></div> <p>Disponemos de un módulo previamente configurado a 115200 baudios, razón por la que ponemos la instrucción <em>conex_BT.begin(115200);</em>.</p> <p>Una vez subido el programa pulsamos el botón y probamos el funcionamiento, tal y como vemos en la imagen siguiente:</p> <p><center></p> <table> <thead> <tr> <th align=center>Respuesta al comando AT en modo AT1</th> </tr> </thead> <tbody> <tr> <td align=center><img alt="Respuesta al comando AT en modo AT1" src=../img/AT/AT1-OK-con-pulsador.png></td> </tr> </tbody> </table> <p></center></p> <h2 id=modulo-bluetooth-hc-05-sin-boton><font color=#007575><strong>Módulo Bluetooth HC-05 <em>SIN</em> botón</strong></font><a class=headerlink href=#modulo-bluetooth-hc-05-sin-boton title="Permanent link">&para;</a></h2> <p>Recordemos que para este caso debemos montar el circuito de la imagen siguiente:</p> <p><center></p> <table> <thead> <tr> <th align=center>Conexión Arduino Nano-HC05 sin botón pulsador</th> </tr> </thead> <tbody> <tr> <td align=center><img alt="Conexión Arduino Nano-HC05 sin botón pulsador" src=../img/comunicacion/nano-HC-05.png></td> </tr> </tbody> </table> <p></center></p> <p>Para poder trabajar vamos a crear en el IDE de Arduino un programa como el siguiente:</p> <div class=highlight><pre><span></span><code>#include &lt;SoftwareSerial.h&gt;
// Definimos una conexión utilizando la librería
SoftwareSerial conex_BT(10, 11); // Recuerda cruzar RX con TX
void setup(){ 
  pinMode(8, OUTPUT);     // Configuramos pin 8 como salida
  pinMode(9, OUTPUT);     // Configuramos pin 9 como salida cuando se alimente de aqui
  digitalWrite(9, HIGH);  // Ponemos el pin Enable/Key en alto
  delay (500) ;           // Espera un tiempo antes de alimentar el modulo
  Serial.begin(9600);     // Velocidad de comunicación con el monitor serie
  Serial.println(&quot;Alimentamos el modulo HC-05. Se habilita el modo AT&quot;);
  digitalWrite (8, HIGH); //Al poner en HIGH alimentamos el HC-05 y forzaremos el modo AT
  Serial.println(&quot;Módulo listo para trabajar con comandos AT:&quot;);
  conex_BT.begin(38400);  // Esta es la velocidad a la que está configurado el módulo
}
void loop(){  
  if (conex_BT.available())
    Serial.write(conex_BT.read());
  if (Serial.available())
    conex_BT.write(Serial.read());
}
</code></pre></div> <p>En mi caso dispongo de un módulo configurado a una velocidad de 38400 baudios, de ahí la velocidad que establecemos para la conexión creada para los pines 10 y 11. Es importante entender que si cuando trabajemos con el código el monitor serie nos devuelve caracteres extraños o no responde a los comandos AT es porque esta velocidad será otra diferente que debemos averiguar para poder continuar. Esto lo hacemos cambiando esta velocidad entre las posibles hasta que demos con la que el módulo responda. La otra velocidad que se configura es la de comunicación con el monitor serie en el ordenador, que lógicamente podemos cambiar pero que no es necesario para estas pruebas.</p> <h2 id=comandos-at-para-el-hc-05><font color=#007575>Comandos AT para el HC-05</font><a class=headerlink href=#comandos-at-para-el-hc-05 title="Permanent link">&para;</a></h2> <p>En las líneas siguientes se van poniendo diferentes comandos y una imagen de la respuesta que se obtiene a cada uno de ellos.</p> <h3 id=at><font color=#AA0000>AT</font><a class=headerlink href=#at title="Permanent link">&para;</a></h3> <p>El comando mas simple y primero que debemos probar antes de hacer nada mas es AT para verificar la comunicación, es decir, comprobamos que nuestro módulo Bluetooth responde a comandos AT.</p> <p>Si tenemos una situación como la de la imagen siguiente podemos seguir con el comando AT que nos interesa de los que damos a continuación, o de otros que el lector puede estudiar, y si no debemos revisar cableado y velocidades de conexión.</p> <p><center></p> <table> <thead> <tr> <th align=center>Respuesta al comando AT</th> </tr> </thead> <tbody> <tr> <td align=center><img alt="Respuesta al comando AT" src=../img/AT/AT-OK.png></td> </tr> </tbody> </table> <p></center></p> <h3 id=atversion><font color=#AA0000>AT+VERSION?</font><a class=headerlink href=#atversion title="Permanent link">&para;</a></h3> <p><center></p> <table> <thead> <tr> <th align=center>Consulta la versión del firmware del módulo</th> </tr> </thead> <tbody> <tr> <td align=center><img alt="Consulta la versión del firmware del módulo" src=../img/AT/version.png></td> </tr> </tbody> </table> <p></center></p> <h3 id=atname-o-atnamennnn><font color=#AA0000>AT+NAME? o AT+NAME=nnnn?</font><a class=headerlink href=#atname-o-atnamennnn title="Permanent link">&para;</a></h3> <p><center></p> <table> <thead> <tr> <th align=center>Consulta o cambia el nombre del módulo</th> </tr> </thead> <tbody> <tr> <td align=center><img alt="Consulta o cambia el nombre del módulo" src=../img/AT/nombre.png></td> </tr> </tbody> </table> <p></center></p> <h3 id=atuart-o-atuartconfig><font color=#AA0000>AT+UART? o AT+UART=config</font><a class=headerlink href=#atuart-o-atuartconfig title="Permanent link">&para;</a></h3> <p>El valor de config debe establecerse como: <strong>Baudios,Bit_parada,Paridad</strong></p> <p>Este comando, en modo consulta nos va a devolver la velocidad de comunicación con el módulo. En la imagen vemos una secuencia en la que hemos cambiado la velocidad de 38400 a 57600 (AT+UART=57600,0,0) por ejemplo con resultado OK. El tercer OK entre UART corresponde a un comando AT, que vemos que sigue funcionando. Tras ello volvemos a cambiar la velocidad a 38400 y comprobamos con AT que todo es correcto. En la animación siguiente vemos el proceso.</p> <p><center></p> <table> <thead> <tr> <th align=center>Consulta o cambia la velocidad de comunicación con el módulo</th> </tr> </thead> <tbody> <tr> <td align=center><img alt="Consulta o cambia la velocidad de comunicación con el módulo" src=../img/AT/uart.gif></td> </tr> </tbody> </table> <p></center></p> <p>Las velocidades posibles son: 1200, 2400, 4800, 9600 (velocidad por defecto), 19200, 38400, 57600 o 115200 baudios.</p> <h3 id=atpswd-o-atpswdnuevo-pin><font color=#AA0000>AT+PSWD? o AT+PSWD="nuevo-pin"</font><a class=headerlink href=#atpswd-o-atpswdnuevo-pin title="Permanent link">&para;</a></h3> <p><center></p> <table> <thead> <tr> <th align=center>Consulta o cambio de la clave o PIN de emparejamiento</th> </tr> </thead> <tbody> <tr> <td align=center><img alt="Consulta o cambio de la clave o PIN de emparejamiento" src=../img/AT/PIN.gif></td> </tr> </tbody> </table> <p></center></p> <h3 id=atrole-o-atrolen><font color=#AA0000>AT+ROLE? o AT+ROLE=n</font><a class=headerlink href=#atrole-o-atrolen title="Permanent link">&para;</a></h3> <p>Donde "n" puede tomar los siguientes valores: - 0 lo configura en modo esclavo - 1 lo configura en modo maestro</p> <p><center></p> <table> <thead> <tr> <th align=center>Consulta o cambia el modo de operación entre maestro y esclavo</th> </tr> </thead> <tbody> <tr> <td align=center><img alt="Consulta o cambia el modo de operación entre maestro y esclavo" src=../img/AT/role.gif></td> </tr> </tbody> </table> <p></center></p> <h3 id=otros-comando-at><font color=#AA0000>Otros comando AT</font><a class=headerlink href=#otros-comando-at title="Permanent link">&para;</a></h3> <p>Listamos los que pueden resultar útiles.</p> <ul> <li><strong>AT+STATE?</strong>. El módulo responderá con el estado actual</li> <li><strong>AT+RESET</strong>. Reinicio del módulo</li> <li><strong>AT+ORGL</strong>. Para devolver al módulo sus valores de fábrica</li> <li><strong>AT+ADDR?</strong>. Devuelve la dirección física o MAC del módulo</li> <li><strong>AT+IRQ</strong>. Escanea y muestra la MAC de dispositivos en el alcance</li> <li><strong>AT+BIND=n</strong>. Establece la MAC del dispositivo al cual se conectará el módulo al encenderse</li> <li><strong>AT+CMODE=n</strong>. Con n=0 se conecta a la dirección física establecida con AT+BIND y n=1 para conectarse a cualquier dirección dentro de la cobertura del módulo.</li> </ul> <h2 id=ejemplos-de-configuracion-del-modulo-ht-05><font color=#007575><strong>Ejemplos de configuración del módulo HT-05</strong></font><a class=headerlink href=#ejemplos-de-configuracion-del-modulo-ht-05 title="Permanent link">&para;</a></h2> <p>Simplemente vamos a proponer dos ejemplos de configuración de varios parámetros de un módulo HC-05 en los que deberemos verificar los cambios realizados. La principal diferencia entre un ejemplo y otro va estar en que en el primero vamos a poner al HC-05 en modo maestro y en el segundo en modo esclavo.</p> <h3 id=ejemplo-1-role-maestro><font color=#AA0000>Ejemplo 1. Role maestro</font><a class=headerlink href=#ejemplo-1-role-maestro title="Permanent link">&para;</a></h3> <p>Configurar un módulo HC-05 para que tenga las siguientes características:</p> <ol> <li>Role o modo: <strong>Maestro</strong></li> <li>Baud rate o velocidad: <strong>57600 baudios</strong></li> <li>Nombre del dispositivo: <strong>HC-05-Master</strong></li> <li>PIN o código de emparejamiento del disposito a conectarse: <strong>1465</strong></li> </ol> <p>Antes de nada debemos poner nuestro módulo en modo AT para que pueda recibir los comandos de configuración. A continuación pongo la secuencia de comandos a enviar, debiendo todos ellos recibir como respuesta OK:</p> <ol> <li>AT</li> <li>AT+ROLE=1</li> <li>AT+UART=57600,0,0</li> <li>AT+NAME=HC-05-Master</li> <li>AT+PSWD=1465</li> <li>AT+CMODE=0</li> </ol> <p>Una vez realizadas las configuraciones procedemos a verificar que todos los pasos han sido correctos. Una vez comprobado puede ser recomendable hacer un reset (AT+RESET) del módulo para tenerlo con configuración de fábrica la próxima vez que lo utilicemos.</p> <h3 id=ejemplo-2-role-esclavo><font color=#AA0000>Ejemplo 2. Role esclavo</font><a class=headerlink href=#ejemplo-2-role-esclavo title="Permanent link">&para;</a></h3> <p>Configurar un módulo HC-05 para que tenga las siguientes características:</p> <ol> <li>Role o modo: <strong>Esclavo</strong></li> <li>Baud rate o velocidad: <strong>9600 baudios</strong></li> <li>Nombre del dispositivo: <strong>HC-05-Slave</strong></li> <li>PIN o código de emparejamiento del disposito a conectarse: <strong>1212</strong></li> </ol> <p>Antes de nada debemos poner nuestro módulo en modo AT para que pueda recibir los comandos de configuración. A continuación pongo la secuencia de comandos a enviar, debiendo todos ellos recibir como respuesta OK:</p> <ol> <li>AT</li> <li>AT+ROLE=0</li> <li>AT+UART=9600,0,0</li> <li>AT+NAME=HC-05-Slave</li> <li>AT+PSWD=1212</li> </ol> <p>Una vez realizadas las configuraciones procedemos a verificar que todos los pasos han sido correctos. Una vez comprobado puede ser recomendable hacer un reset (AT+RESET) del módulo para tenerlo con configuración de fábrica la próxima vez que lo utilicemos.</p> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Pie> <a href=../intro-at/ title=Introducción class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Anterior </span> Introducción </div> </div> </a> <a href=../at-06/ title="Módulo HC-06" class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Siguiente </span> Módulo HC-06 </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2020 - 2025 Federico Coca </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://twitter.com/fgcoca target=_blank rel=noopener title="Twitter de Federico Coca" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 01-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z"/></svg> </a> <a href=https://github.com/fgcoca target=_blank rel=noopener title="Github de Federico Coca" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href="https://www.instagram.com/cocafederico/?hl=es" target=_blank rel=noopener title="Instagram de Federico Coca" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg> </a> <a href=https://twitter.com/clubroboticagra target=_blank rel=noopener title="Twitter de Club Robótica Granada" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../assets/javascripts/vendor.d710d30a.min.js></script> <script src=../assets/javascripts/bundle.4a5ba8d6.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copiar al portapapeles", "clipboard.copied": "Copiado al portapapeles", "search.config.lang": "es", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados"}</script> <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.9b3611bd.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>